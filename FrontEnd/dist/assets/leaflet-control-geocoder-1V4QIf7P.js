import{a as t}from"./leaflet-ByaIHotg.js";function u(c,e){return t.Util.extend(e,c.geocodingQueryParams)}function g(c,e){return t.Util.extend(e,c.reverseQueryParams)}let G=0;const A=/[&<>"'`]/g,I=/[&<>"'`]/,W={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"};function H(c){return W[c]}function q(c){return c==null?"":c?(c=""+c,I.test(c)?c.replace(A,H):c):c+""}function y(c,e,l,s,n){const o="_l_geocoder_"+G++;e[n]=o,window[o]=t.Util.bind(l,s);const i=document.createElement("script");i.type="text/javascript",i.src=c+U(e),i.id=o,document.getElementsByTagName("head")[0].appendChild(i)}function d(c,e,l){const s=new XMLHttpRequest;s.onreadystatechange=function(){if(s.readyState!==4)return;let n;if(s.status!==200&&s.status!==304)n="";else if(typeof s.response=="string")try{n=JSON.parse(s.response)}catch{n=s.response}else n=s.response;l(n)},s.open("GET",c+U(e),!0),s.responseType="json",s.setRequestHeader("Accept","application/json"),s.send(null)}function z(c,e){return c.replace(/\{ *([\w_]+) *\}/g,(l,s)=>{let n=e[s];return n===void 0?n="":typeof n=="function"&&(n=n(e)),q(n)})}function U(c,e,l){const s=[];for(const n in c){const o=encodeURIComponent(n),i=c[n];if(!Array.isArray(i))s.push(o+"="+encodeURIComponent(String(i)));else for(let a=0;a<i.length;a++)s.push(o+"="+encodeURIComponent(i[a]))}return"?"+s.join("&")}class w{constructor(e){this.options={serviceUrl:"https://geocode.arcgis.com/arcgis/rest/services/World/GeocodeServer",apiKey:""},t.Util.setOptions(this,e)}geocode(e,l,s){const n=u(this.options,{token:this.options.apiKey,SingleLine:e,outFields:"Addr_Type",forStorage:!1,maxLocations:10,f:"json"});d(this.options.serviceUrl+"/findAddressCandidates",n,o=>{const i=[];if(o.candidates&&o.candidates.length)for(let a=0;a<=o.candidates.length-1;a++){const r=o.candidates[a],p=t.latLng(r.location.y,r.location.x),h=t.latLngBounds(t.latLng(r.extent.ymax,r.extent.xmax),t.latLng(r.extent.ymin,r.extent.xmin));i[a]={name:r.address,bbox:h,center:p}}l.call(s,i)})}suggest(e,l,s){return this.geocode(e,l,s)}reverse(e,l,s,n){const o=g(this.options,{location:e.lng+","+e.lat,distance:100,f:"json"});d(this.options.serviceUrl+"/reverseGeocode",o,i=>{const a=[];if(i&&!i.error){const r=t.latLng(i.location.y,i.location.x),p=t.latLngBounds(r,r);a.push({name:i.address.Match_addr,center:r,bbox:p})}s.call(n,a)})}}function J(c){return new w(c)}class C{constructor(e){this.options={serviceUrl:"https://dev.virtualearth.net/REST/v1/Locations"},t.Util.setOptions(this,e)}geocode(e,l,s){const n=u(this.options,{query:e,key:this.options.apiKey});y(this.options.apiKey,n,o=>{const i=[];if(o.resourceSets.length>0)for(let a=o.resourceSets[0].resources.length-1;a>=0;a--){const r=o.resourceSets[0].resources[a],p=r.bbox;i[a]={name:r.name,bbox:t.latLngBounds([p[0],p[1]],[p[2],p[3]]),center:t.latLng(r.point.coordinates)}}l.call(s,i)},this,"jsonp")}reverse(e,l,s,n){const o=g(this.options,{key:this.options.apiKey});y(this.options.serviceUrl+e.lat+","+e.lng,o,i=>{const a=[];for(let r=i.resourceSets[0].resources.length-1;r>=0;r--){const p=i.resourceSets[0].resources[r],h=p.bbox;a[r]={name:p.name,bbox:t.latLngBounds([h[0],h[1]],[h[2],h[3]]),center:t.latLng(p.point.coordinates)}}s.call(n,a)},this,"jsonp")}}function F(c){return new C(c)}class E{constructor(e){this.options={serviceUrl:"https://maps.googleapis.com/maps/api/geocode/json"},t.Util.setOptions(this,e)}geocode(e,l,s){const n=u(this.options,{key:this.options.apiKey,address:e});d(this.options.serviceUrl,n,o=>{const i=[];if(o.results&&o.results.length)for(let a=0;a<=o.results.length-1;a++){const r=o.results[a],p=t.latLng(r.geometry.location),h=t.latLngBounds(t.latLng(r.geometry.viewport.northeast),t.latLng(r.geometry.viewport.southwest));i[a]={name:r.formatted_address,bbox:h,center:p,properties:r.address_components}}l.call(s,i)})}reverse(e,l,s,n){const o=g(this.options,{key:this.options.apiKey,latlng:e.lat+","+e.lng});d(this.options.serviceUrl,o,i=>{const a=[];if(i.results&&i.results.length)for(let r=0;r<=i.results.length-1;r++){const p=i.results[r],h=t.latLng(p.geometry.location),m=t.latLngBounds(t.latLng(p.geometry.viewport.northeast),t.latLng(p.geometry.viewport.southwest));a[r]={name:p.formatted_address,bbox:m,center:h,properties:p.address_components}}s.call(n,a)})}}function V(c){return new E(c)}class k{constructor(e){if(this.options={serviceUrl:"https://geocoder.api.here.com/6.2/",app_id:"",app_code:"",apiKey:"",maxResults:5},t.Util.setOptions(this,e),e.apiKey)throw Error("apiKey is not supported, use app_id/app_code instead!")}geocode(e,l,s){const n=u(this.options,{searchtext:e,gen:9,app_id:this.options.app_id,app_code:this.options.app_code,jsonattributes:1,maxresults:this.options.maxResults});this.getJSON(this.options.serviceUrl+"geocode.json",n,l,s)}reverse(e,l,s,n){let o=e.lat+","+e.lng;this.options.reverseGeocodeProxRadius&&(o+=","+this.options.reverseGeocodeProxRadius);const i=g(this.options,{prox:o,mode:"retrieveAddresses",app_id:this.options.app_id,app_code:this.options.app_code,gen:9,jsonattributes:1,maxresults:this.options.maxResults});this.getJSON(this.options.serviceUrl+"reversegeocode.json",i,s,n)}getJSON(e,l,s,n){d(e,l,o=>{const i=[];if(o.response.view&&o.response.view.length)for(let a=0;a<=o.response.view[0].result.length-1;a++){const r=o.response.view[0].result[a].location,p=t.latLng(r.displayPosition.latitude,r.displayPosition.longitude),h=t.latLngBounds(t.latLng(r.mapView.topLeft.latitude,r.mapView.topLeft.longitude),t.latLng(r.mapView.bottomRight.latitude,r.mapView.bottomRight.longitude));i[a]={name:r.address.label,properties:r.address,bbox:h,center:p}}s.call(n,i)})}}class D{constructor(e){this.options={serviceUrl:"https://geocode.search.hereapi.com/v1",apiKey:"",app_id:"",app_code:"",maxResults:10},t.Util.setOptions(this,e)}geocode(e,l,s){const n=u(this.options,{q:e,apiKey:this.options.apiKey,limit:this.options.maxResults});if(!n.at&&!n.in)throw Error("at / in parameters not found. Please define coordinates (at=latitude,longitude) or other (in) in your geocodingQueryParams.");this.getJSON(this.options.serviceUrl+"/discover",n,l,s)}reverse(e,l,s,n){const o=g(this.options,{at:e.lat+","+e.lng,limit:this.options.reverseGeocodeProxRadius,apiKey:this.options.apiKey});this.getJSON(this.options.serviceUrl+"/revgeocode",o,s,n)}getJSON(e,l,s,n){d(e,l,o=>{const i=[];if(o.items&&o.items.length)for(let a=0;a<=o.items.length-1;a++){const r=o.items[a],p=t.latLng(r.position.lat,r.position.lng);let h;r.mapView?h=t.latLngBounds(t.latLng(r.mapView.south,r.mapView.west),t.latLng(r.mapView.north,r.mapView.east)):h=t.latLngBounds(t.latLng(r.position.lat,r.position.lng),t.latLng(r.position.lat,r.position.lng)),i[a]={name:r.address.label,properties:r.address,bbox:h,center:p}}s.call(n,i)})}}function Q(c){return c.apiKey?new D(c):new k(c)}function B(c){let e;if(e=c.match(/^([NS])\s*(\d{1,3}(?:\.\d*)?)\W*([EW])\s*(\d{1,3}(?:\.\d*)?)$/))return t.latLng((/N/i.test(e[1])?1:-1)*+e[2],(/E/i.test(e[3])?1:-1)*+e[4]);if(e=c.match(/^(\d{1,3}(?:\.\d*)?)\s*([NS])\W*(\d{1,3}(?:\.\d*)?)\s*([EW])$/))return t.latLng((/N/i.test(e[2])?1:-1)*+e[1],(/E/i.test(e[4])?1:-1)*+e[3]);if(e=c.match(/^([NS])\s*(\d{1,3})°?\s*(\d{1,3}(?:\.\d*)?)?['′]?\W*([EW])\s*(\d{1,3})°?\s*(\d{1,3}(?:\.\d*)?)?['′]?$/))return t.latLng((/N/i.test(e[1])?1:-1)*(+e[2]+ +e[3]/60),(/E/i.test(e[4])?1:-1)*(+e[5]+ +e[6]/60));if(e=c.match(/^(\d{1,3})°?\s*(\d{1,3}(?:\.\d*)?)?['′]?\s*([NS])\W*(\d{1,3})°?\s*(\d{1,3}(?:\.\d*)?)?['′]?\s*([EW])$/))return t.latLng((/N/i.test(e[3])?1:-1)*(+e[1]+ +e[2]/60),(/E/i.test(e[6])?1:-1)*(+e[4]+ +e[5]/60));if(e=c.match(/^([NS])\s*(\d{1,3})°?\s*(\d{1,2})['′]?\s*(\d{1,3}(?:\.\d*)?)?["″]?\W*([EW])\s*(\d{1,3})°?\s*(\d{1,2})['′]?\s*(\d{1,3}(?:\.\d*)?)?["″]?$/))return t.latLng((/N/i.test(e[1])?1:-1)*(+e[2]+ +e[3]/60+ +e[4]/3600),(/E/i.test(e[5])?1:-1)*(+e[6]+ +e[7]/60+ +e[8]/3600));if(e=c.match(/^(\d{1,3})°?\s*(\d{1,2})['′]?\s*(\d{1,3}(?:\.\d*)?)?["″]\s*([NS])\W*(\d{1,3})°?\s*(\d{1,2})['′]?\s*(\d{1,3}(?:\.\d*)?)?["″]?\s*([EW])$/))return t.latLng((/N/i.test(e[4])?1:-1)*(+e[1]+ +e[2]/60+ +e[3]/3600),(/E/i.test(e[8])?1:-1)*(+e[5]+ +e[6]/60+ +e[7]/3600));if(e=c.match(/^\s*([+-]?\d+(?:\.\d*)?)\s*[\s,]\s*([+-]?\d+(?:\.\d*)?)\s*$/))return t.latLng(+e[1],+e[2])}class R{constructor(e){this.options={next:void 0,sizeInMeters:1e4},t.Util.setOptions(this,e)}geocode(e,l,s){const n=B(e);if(n){const o=[{name:e,center:n,bbox:n.toBounds(this.options.sizeInMeters)}];l.call(s,o)}else this.options.next&&this.options.next.geocode(e,l,s)}}function $(c){return new R(c)}class S{constructor(e){this.options={serviceUrl:"https://api.mapbox.com/geocoding/v5/mapbox.places/"},t.Util.setOptions(this,e)}_getProperties(e){const l={text:e.text,address:e.address};for(let s=0;s<(e.context||[]).length;s++){const n=e.context[s].id.split(".")[0];l[n]=e.context[s].text,e.context[s].short_code&&(l.countryShortCode=e.context[s].short_code)}return l}geocode(e,l,s){const n=u(this.options,{access_token:this.options.apiKey});n.proximity!==void 0&&n.proximity.lat!==void 0&&n.proximity.lng!==void 0&&(n.proximity=n.proximity.lng+","+n.proximity.lat),d(this.options.serviceUrl+encodeURIComponent(e)+".json",n,o=>{const i=[];if(o.features&&o.features.length)for(let a=0;a<=o.features.length-1;a++){const r=o.features[a],p=t.latLng(r.center.reverse());let h;r.bbox?h=t.latLngBounds(t.latLng(r.bbox.slice(0,2).reverse()),t.latLng(r.bbox.slice(2,4).reverse())):h=t.latLngBounds(p,p),i[a]={name:r.place_name,bbox:h,center:p,properties:this._getProperties(r)}}l.call(s,i)})}suggest(e,l,s){return this.geocode(e,l,s)}reverse(e,l,s,n){const o=this.options.serviceUrl+e.lng+","+e.lat+".json",i=g(this.options,{access_token:this.options.apiKey});d(o,i,a=>{const r=[];if(a.features&&a.features.length)for(let p=0;p<=a.features.length-1;p++){const h=a.features[p],m=t.latLng(h.center.reverse());let b;h.bbox?b=t.latLngBounds(t.latLng(h.bbox.slice(0,2).reverse()),t.latLng(h.bbox.slice(2,4).reverse())):b=t.latLngBounds(m,m),r[p]={name:h.place_name,bbox:b,center:m,properties:this._getProperties(h)}}s.call(n,r)})}}function X(c){return new S(c)}class N{constructor(e){this.options={serviceUrl:"https://www.mapquestapi.com/geocoding/v1"},t.Util.setOptions(this,e),this.options.apiKey=decodeURIComponent(this.options.apiKey)}_formatName(...e){return e.filter(l=>!!l).join(", ")}geocode(e,l,s){const n=u(this.options,{key:this.options.apiKey,location:e,limit:5,outFormat:"json"});d(this.options.serviceUrl+"/address",n,t.Util.bind(function(o){const i=[];if(o.results&&o.results[0].locations)for(let a=o.results[0].locations.length-1;a>=0;a--){const r=o.results[0].locations[a],p=t.latLng(r.latLng);i[a]={name:this._formatName(r.street,r.adminArea4,r.adminArea3,r.adminArea1),bbox:t.latLngBounds(p,p),center:p}}l.call(s,i)},this))}reverse(e,l,s,n){const o=g(this.options,{key:this.options.apiKey,location:e.lat+","+e.lng,outputFormat:"json"});d(this.options.serviceUrl+"/reverse",o,t.Util.bind(function(i){const a=[];if(i.results&&i.results[0].locations)for(let r=i.results[0].locations.length-1;r>=0;r--){const p=i.results[0].locations[r],h=t.latLng(p.latLng);a[r]={name:this._formatName(p.street,p.adminArea4,p.adminArea3,p.adminArea1),bbox:t.latLngBounds(h,h),center:h}}s.call(n,a)},this))}}function Y(c){return new N(c)}class O{constructor(e){this.options={userId:void 0,apiKey:void 0,serviceUrl:"https://neutrinoapi.com/"},t.Util.setOptions(this,e)}geocode(e,l,s){const n=u(this.options,{apiKey:this.options.apiKey,userId:this.options.userId,address:e.split(/\s+/).join(".")});d(this.options.serviceUrl+"geocode-address",n,o=>{const i=[];if(o.locations){o.geometry=o.locations[0];const a=t.latLng(o.geometry.latitude,o.geometry.longitude),r=t.latLngBounds(a,a);i[0]={name:o.geometry.address,bbox:r,center:a}}l.call(s,i)})}suggest(e,l,s){return this.geocode(e,l,s)}reverse(e,l,s,n){const o=g(this.options,{apiKey:this.options.apiKey,userId:this.options.userId,latitude:e.lat,longitude:e.lng});d(this.options.serviceUrl+"geocode-reverse",o,i=>{const a=[];if(i.status.status==200&&i.found){const r=t.latLng(e.lat,e.lng),p=t.latLngBounds(r,r);a[0]={name:i.address,bbox:p,center:r}}s.call(n,a)})}}function Z(c){return new O(c)}class v{constructor(e){this.options={serviceUrl:"https://nominatim.openstreetmap.org/",htmlTemplate:function(l){const s=l.address;let n;const o=[];return(s.road||s.building)&&o.push("{building} {road} {house_number}"),(s.city||s.town||s.village||s.hamlet)&&(n=o.length>0?"leaflet-control-geocoder-address-detail":"",o.push('<span class="'+n+'">{postcode} {city} {town} {village} {hamlet}</span>')),(s.state||s.country)&&(n=o.length>0?"leaflet-control-geocoder-address-context":"",o.push('<span class="'+n+'">{state} {country}</span>')),z(o.join("<br/>"),s)}},t.Util.setOptions(this,e||{})}geocode(e,l,s){const n=u(this.options,{q:e,limit:5,format:"json",addressdetails:1});d(this.options.serviceUrl+"search",n,o=>{const i=[];for(let a=o.length-1;a>=0;a--){const r=o[a].boundingbox;for(let p=0;p<4;p++)r[p]=+r[p];i[a]={icon:o[a].icon,name:o[a].display_name,html:this.options.htmlTemplate?this.options.htmlTemplate(o[a]):void 0,bbox:t.latLngBounds([r[0],r[2]],[r[1],r[3]]),center:t.latLng(o[a].lat,o[a].lon),properties:o[a]}}l.call(s,i)})}reverse(e,l,s,n){const o=g(this.options,{lat:e.lat,lon:e.lng,zoom:Math.round(Math.log(l/256)/Math.log(2)),addressdetails:1,format:"json"});d(this.options.serviceUrl+"reverse",o,i=>{const a=[];if(i&&i.lat&&i.lon){const r=t.latLng(i.lat,i.lon),p=t.latLngBounds(r,r);a.push({name:i.display_name,html:this.options.htmlTemplate?this.options.htmlTemplate(i):void 0,center:r,bbox:p,properties:i})}s.call(n,a)})}}function ee(c){return new v(c)}class K{constructor(e){t.Util.setOptions(this,e)}geocode(e,l,s){try{const n=this.options.OpenLocationCode.decode(e),o={name:e,center:t.latLng(n.latitudeCenter,n.longitudeCenter),bbox:t.latLngBounds(t.latLng(n.latitudeLo,n.longitudeLo),t.latLng(n.latitudeHi,n.longitudeHi))};l.call(s,[o])}catch(n){console.warn(n),l.call(s,[])}}reverse(e,l,s,n){try{const i={name:this.options.OpenLocationCode.encode(e.lat,e.lng,this.options.codeLength),center:t.latLng(e.lat,e.lng),bbox:t.latLngBounds(t.latLng(e.lat,e.lng),t.latLng(e.lat,e.lng))};s.call(n,[i])}catch(o){console.warn(o),s.call(n,[])}}}function te(c){return new K(c)}class T{constructor(e){this.options={serviceUrl:"https://api.opencagedata.com/geocode/v1/json"},t.Util.setOptions(this,e)}geocode(e,l,s){const n=u(this.options,{key:this.options.apiKey,q:e});d(this.options.serviceUrl,n,o=>{const i=[];if(o.results&&o.results.length)for(let a=0;a<o.results.length;a++){const r=o.results[a],p=t.latLng(r.geometry);let h;r.annotations&&r.annotations.bounds?h=t.latLngBounds(t.latLng(r.annotations.bounds.northeast),t.latLng(r.annotations.bounds.southwest)):h=t.latLngBounds(p,p),i.push({name:r.formatted,bbox:h,center:p})}l.call(s,i)})}suggest(e,l,s){return this.geocode(e,l,s)}reverse(e,l,s,n){const o=g(this.options,{key:this.options.apiKey,q:[e.lat,e.lng].join(",")});d(this.options.serviceUrl,o,i=>{const a=[];if(i.results&&i.results.length)for(let r=0;r<i.results.length;r++){const p=i.results[r],h=t.latLng(p.geometry);let m;p.annotations&&p.annotations.bounds?m=t.latLngBounds(t.latLng(p.annotations.bounds.northeast),t.latLng(p.annotations.bounds.southwest)):m=t.latLngBounds(h,h),a.push({name:p.formatted,bbox:m,center:h})}s.call(n,a)})}}function se(c){return new T(c)}class f{constructor(e){this.options={serviceUrl:"https://api.geocode.earth/v1"},this._lastSuggest=0,t.Util.setOptions(this,e)}geocode(e,l,s){const n=u(this.options,{api_key:this.options.apiKey,text:e});d(this.options.serviceUrl+"/search",n,o=>{l.call(s,this._parseResults(o,"bbox"))})}suggest(e,l,s){const n=u(this.options,{api_key:this.options.apiKey,text:e});d(this.options.serviceUrl+"/autocomplete",n,o=>{o.geocoding.timestamp>this._lastSuggest&&(this._lastSuggest=o.geocoding.timestamp,l.call(s,this._parseResults(o,"bbox")))})}reverse(e,l,s,n){const o=g(this.options,{api_key:this.options.apiKey,"point.lat":e.lat,"point.lon":e.lng});d(this.options.serviceUrl+"/reverse",o,i=>{s.call(n,this._parseResults(i,"bounds"))})}_parseResults(e,l){const s=[];return t.geoJSON(e,{pointToLayer:function(n,o){return t.circleMarker(o)},onEachFeature:function(n,o){const i={};let a,r;o.getBounds?(a=o.getBounds(),r=a.getCenter()):o.feature.bbox?(r=o.getLatLng(),a=t.latLngBounds(t.GeoJSON.coordsToLatLng(o.feature.bbox.slice(0,2)),t.GeoJSON.coordsToLatLng(o.feature.bbox.slice(2,4)))):(r=o.getLatLng(),a=t.latLngBounds(r,r)),i.name=o.feature.properties.label,i.center=r,i[l]=a,i.properties=o.feature.properties,s.push(i)}}),s}}function _(c){return new f(c)}const oe=f,ne=_,ie=f,re=_;class M extends f{constructor(e){super(t.Util.extend({serviceUrl:"https://api.openrouteservice.org/geocode"},e))}}function le(c){return new M(c)}class j{constructor(e){this.options={serviceUrl:"https://photon.komoot.io/api/",reverseUrl:"https://photon.komoot.io/reverse/",nameProperties:["name","street","suburb","hamlet","town","city","state","country"]},t.Util.setOptions(this,e)}geocode(e,l,s){const n=u(this.options,{q:e});d(this.options.serviceUrl,n,t.Util.bind(function(o){l.call(s,this._decodeFeatures(o))},this))}suggest(e,l,s){return this.geocode(e,l,s)}reverse(e,l,s,n){const o=g(this.options,{lat:e.lat,lon:e.lng});d(this.options.reverseUrl,o,t.Util.bind(function(i){s.call(n,this._decodeFeatures(i))},this))}_decodeFeatures(e){const l=[];if(e&&e.features)for(let s=0;s<e.features.length;s++){const n=e.features[s],o=n.geometry.coordinates,i=t.latLng(o[1],o[0]),a=n.properties.extent,r=a?t.latLngBounds([a[1],a[0]],[a[3],a[2]]):t.latLngBounds(i,i);l.push({name:this._decodeFeatureName(n),html:this.options.htmlTemplate?this.options.htmlTemplate(n):void 0,center:i,bbox:r,properties:n.properties})}return l}_decodeFeatureName(e){return(this.options.nameProperties||[]).map(l=>e.properties[l]).filter(l=>!!l).join(", ")}}function ae(c){return new j(c)}class P{constructor(e){this.options={serviceUrl:"https://api.what3words.com/v2/"},t.Util.setOptions(this,e)}geocode(e,l,s){d(this.options.serviceUrl+"forward",u(this.options,{key:this.options.apiKey,addr:e.split(/\s+/).join(".")}),n=>{const o=[];if(n.geometry){const i=t.latLng(n.geometry.lat,n.geometry.lng),a=t.latLngBounds(i,i);o[0]={name:n.words,bbox:a,center:i}}l.call(s,o)})}suggest(e,l,s){return this.geocode(e,l,s)}reverse(e,l,s,n){d(this.options.serviceUrl+"reverse",g(this.options,{key:this.options.apiKey,coords:[e.lat,e.lng].join(",")}),o=>{const i=[];if(o.status.status==200){const a=t.latLng(o.geometry.lat,o.geometry.lng),r=t.latLngBounds(a,a);i[0]={name:o.words,bbox:r,center:a}}s.call(n,i)})}}function ce(c){return new P(c)}var pe={__proto__:null,geocodingParams:u,reverseParams:g,ArcGis:w,arcgis:J,Bing:C,bing:F,Google:E,google:V,HERE:k,HEREv2:D,here:Q,parseLatLng:B,LatLng:R,latLng:$,Mapbox:S,mapbox:X,MapQuest:N,mapQuest:Y,Neutrino:O,neutrino:Z,Nominatim:v,nominatim:ee,OpenLocationCode:K,openLocationCode:te,OpenCage:T,opencage:se,Pelias:f,pelias:_,GeocodeEarth:oe,geocodeEarth:ne,Mapzen:ie,mapzen:re,Openrouteservice:M,openrouteservice:le,Photon:j,photon:ae,What3Words:P,what3words:ce};class L{constructor(...e){}}t.Util.extend(L.prototype,t.Control.prototype);t.Util.extend(L.prototype,t.Evented.prototype);class x extends L{constructor(e){super(e),this.options={showUniqueResult:!0,showResultIcons:!1,collapsed:!0,expand:"touch",position:"topright",placeholder:"Search...",errorMessage:"Nothing found.",iconLabel:"Initiate a new search",query:"",queryMinLength:1,suggestMinLength:3,suggestTimeout:250,defaultMarkGeocode:!0},this._requestCount=0,t.Util.setOptions(this,e),this.options.geocoder||(this.options.geocoder=new v)}addThrobberClass(){t.DomUtil.addClass(this._container,"leaflet-control-geocoder-throbber")}removeThrobberClass(){t.DomUtil.removeClass(this._container,"leaflet-control-geocoder-throbber")}onAdd(e){const l="leaflet-control-geocoder",s=t.DomUtil.create("div",l+" leaflet-bar"),n=t.DomUtil.create("button",l+"-icon",s),o=this._form=t.DomUtil.create("div",l+"-form",s);this._map=e,this._container=s,n.innerHTML="&nbsp;",n.type="button",n.setAttribute("aria-label",this.options.iconLabel);const i=this._input=t.DomUtil.create("input","",o);return i.type="text",i.value=this.options.query,i.placeholder=this.options.placeholder,t.DomEvent.disableClickPropagation(i),this._errorElement=t.DomUtil.create("div",l+"-form-no-error",s),this._errorElement.innerHTML=this.options.errorMessage,this._alts=t.DomUtil.create("ul",l+"-alternatives leaflet-control-geocoder-alternatives-minimized",s),t.DomEvent.disableClickPropagation(this._alts),t.DomEvent.addListener(i,"keydown",this._keydown,this),this.options.geocoder.suggest&&t.DomEvent.addListener(i,"input",this._change,this),t.DomEvent.addListener(i,"blur",()=>{this.options.collapsed&&!this._preventBlurCollapse&&this._collapse(),this._preventBlurCollapse=!1}),this.options.collapsed?this.options.expand==="click"?t.DomEvent.addListener(s,"click",a=>{a.button===0&&a.detail!==2&&this._toggle()}):this.options.expand==="touch"?t.DomEvent.addListener(s,t.Browser.touch?"touchstart mousedown":"mousedown",a=>{this._toggle(),a.preventDefault(),a.stopPropagation()},this):(t.DomEvent.addListener(s,"mouseover",this._expand,this),t.DomEvent.addListener(s,"mouseout",this._collapse,this),this._map.on("movestart",this._collapse,this)):(this._expand(),t.Browser.touch?t.DomEvent.addListener(s,"touchstart",()=>this._geocode()):t.DomEvent.addListener(s,"click",()=>this._geocode())),this.options.defaultMarkGeocode&&this.on("markgeocode",this.markGeocode,this),this.on("startgeocode",this.addThrobberClass,this),this.on("finishgeocode",this.removeThrobberClass,this),this.on("startsuggest",this.addThrobberClass,this),this.on("finishsuggest",this.removeThrobberClass,this),t.DomEvent.disableClickPropagation(s),s}setQuery(e){return this._input.value=e,this}_geocodeResult(e,l){if(!l&&this.options.showUniqueResult&&e.length===1)this._geocodeResultSelected(e[0]);else if(e.length>0){this._alts.innerHTML="",this._results=e,t.DomUtil.removeClass(this._alts,"leaflet-control-geocoder-alternatives-minimized"),t.DomUtil.addClass(this._container,"leaflet-control-geocoder-options-open");for(let s=0;s<e.length;s++)this._alts.appendChild(this._createAlt(e[s],s))}else t.DomUtil.addClass(this._container,"leaflet-control-geocoder-options-error"),t.DomUtil.addClass(this._errorElement,"leaflet-control-geocoder-error")}markGeocode(e){const l=e.geocode;return this._map.fitBounds(l.bbox),this._geocodeMarker&&this._map.removeLayer(this._geocodeMarker),this._geocodeMarker=new t.Marker(l.center).bindPopup(l.html||l.name).addTo(this._map).openPopup(),this}_geocode(e){const l=this._input.value;if(!e&&l.length<this.options.queryMinLength)return;const s=++this._requestCount,n=i=>{if(s===this._requestCount){const a={input:l,results:i};this.fire(e?"finishsuggest":"finishgeocode",a),this._geocodeResult(i,e)}};this._lastGeocode=l,e||this._clearResults();const o={input:l};this.fire(e?"startsuggest":"startgeocode",o),e?this.options.geocoder.suggest(l,n):this.options.geocoder.geocode(l,n)}_geocodeResultSelected(e){const l={geocode:e};this.fire("markgeocode",l)}_toggle(){t.DomUtil.hasClass(this._container,"leaflet-control-geocoder-expanded")?this._collapse():this._expand()}_expand(){t.DomUtil.addClass(this._container,"leaflet-control-geocoder-expanded"),this._input.select(),this.fire("expand")}_collapse(){t.DomUtil.removeClass(this._container,"leaflet-control-geocoder-expanded"),t.DomUtil.addClass(this._alts,"leaflet-control-geocoder-alternatives-minimized"),t.DomUtil.removeClass(this._errorElement,"leaflet-control-geocoder-error"),t.DomUtil.removeClass(this._container,"leaflet-control-geocoder-options-open"),t.DomUtil.removeClass(this._container,"leaflet-control-geocoder-options-error"),this._input.blur(),this.fire("collapse")}_clearResults(){t.DomUtil.addClass(this._alts,"leaflet-control-geocoder-alternatives-minimized"),this._selection=null,t.DomUtil.removeClass(this._errorElement,"leaflet-control-geocoder-error"),t.DomUtil.removeClass(this._container,"leaflet-control-geocoder-options-open"),t.DomUtil.removeClass(this._container,"leaflet-control-geocoder-options-error")}_createAlt(e,l){const s=t.DomUtil.create("li",""),n=t.DomUtil.create("a","",s),o=this.options.showResultIcons&&e.icon?t.DomUtil.create("img","",n):null,i=e.html?void 0:document.createTextNode(e.name),a=r=>{this._preventBlurCollapse=!0,t.DomEvent.stop(r),this._geocodeResultSelected(e),t.DomEvent.on(s,"click touchend",()=>{this.options.collapsed?this._collapse():this._clearResults()})};return o&&(o.src=e.icon),s.setAttribute("data-result-index",String(l)),e.html?n.innerHTML=n.innerHTML+e.html:i&&n.appendChild(i),t.DomEvent.addListener(s,"mousedown touchstart",a,this),s}_keydown(e){const l=s=>{this._selection&&(t.DomUtil.removeClass(this._selection,"leaflet-control-geocoder-selected"),this._selection=this._selection[s>0?"nextSibling":"previousSibling"]),this._selection||(this._selection=this._alts[s>0?"firstChild":"lastChild"]),this._selection&&t.DomUtil.addClass(this._selection,"leaflet-control-geocoder-selected")};switch(e.keyCode){case 27:this.options.collapsed?this._collapse():this._clearResults();break;case 38:l(-1);break;case 40:l(1);break;case 13:if(this._selection){const s=parseInt(this._selection.getAttribute("data-result-index"),10);this._geocodeResultSelected(this._results[s]),this._clearResults()}else this._geocode();break;default:return}t.DomEvent.preventDefault(e)}_change(){const e=this._input.value;e!==this._lastGeocode&&(clearTimeout(this._suggestTimeout),e.length>=this.options.suggestMinLength?this._suggestTimeout=setTimeout(()=>this._geocode(!0),this.options.suggestTimeout):this._clearResults())}}function he(c){return new x(c)}/* @preserve
 * Leaflet Control Geocoder
 * https://github.com/perliedman/leaflet-control-geocoder
 *
 * Copyright (c) 2012 sa3m (https://github.com/sa3m)
 * Copyright (c) 2018 Per Liedman
 * All rights reserved.
 */t.Util.extend(x,pe);t.Util.extend(t.Control,{Geocoder:x,geocoder:he});
