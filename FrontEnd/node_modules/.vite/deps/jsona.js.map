{
  "version": 3,
  "sources": ["../../jsona/src/utils.ts", "../../tslib/tslib.es6.mjs", "../../jsona/src/builders/ModelsSerializer.ts", "../../jsona/src/builders/JsonDeserializer.ts", "../../jsona/src/builders/ReduxObjectDenormalizer.ts", "../../jsona/src/simplePropertyMappers.ts", "../../jsona/src/cache.ts", "../../jsona/src/Jsona.ts", "../../jsona/src/switchCasePropertyMappers.ts", "../../jsona/src/index.ts"],
  "sourcesContent": ["import {\r\n    TJsonaIncludeNamesChain,\r\n    TJsonaNormalizedIncludeNamesTree\r\n} from './JsonaTypes';\r\n\r\nexport function createIncludeNamesTree(\r\n    namesChain: TJsonaIncludeNamesChain,\r\n    includeTree: TJsonaNormalizedIncludeNamesTree,\r\n): void {\r\n    const namesArray = namesChain.split('.');\r\n    const currentIncludeName = namesArray.shift();\r\n    const chainHasMoreNames = namesArray.length;\r\n\r\n    let subTree = null;\r\n\r\n    if (chainHasMoreNames) {\r\n        subTree = includeTree[currentIncludeName] || {};\r\n        createIncludeNamesTree(namesArray.join('.'), subTree);\r\n    }\r\n\r\n    includeTree[currentIncludeName] = subTree;\r\n}\r\n\r\nexport function jsonParse(stringified: string): Object {\r\n    let parsed;\r\n\r\n    try {\r\n        parsed = JSON.parse(stringified);\r\n    } catch (e) {\r\n        parsed = {};\r\n        console.warn(e);\r\n    }\r\n\r\n    return parsed;\r\n}\r\n\r\n// https://github.com/30-seconds/30-seconds-of-code/blob/master/snippets/isPlainObject.md\r\nexport const isPlainObject = (val: unknown): val is Object => !!val && typeof val === 'object' && val.constructor === Object;", "/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise, SuppressedError, Symbol */\r\n\r\nvar extendStatics = function(d, b) {\r\n  extendStatics = Object.setPrototypeOf ||\r\n      ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n      function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n  return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n  if (typeof b !== \"function\" && b !== null)\r\n      throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n  extendStatics(d, b);\r\n  function __() { this.constructor = d; }\r\n  d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n  __assign = Object.assign || function __assign(t) {\r\n      for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n          s = arguments[i];\r\n          for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n      }\r\n      return t;\r\n  }\r\n  return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n  var t = {};\r\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n      t[p] = s[p];\r\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n      for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n          if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n              t[p[i]] = s[p[i]];\r\n      }\r\n  return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n  var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n  else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n  return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __esDecorate(ctor, descriptorIn, decorators, contextIn, initializers, extraInitializers) {\r\n  function accept(f) { if (f !== void 0 && typeof f !== \"function\") throw new TypeError(\"Function expected\"); return f; }\r\n  var kind = contextIn.kind, key = kind === \"getter\" ? \"get\" : kind === \"setter\" ? \"set\" : \"value\";\r\n  var target = !descriptorIn && ctor ? contextIn[\"static\"] ? ctor : ctor.prototype : null;\r\n  var descriptor = descriptorIn || (target ? Object.getOwnPropertyDescriptor(target, contextIn.name) : {});\r\n  var _, done = false;\r\n  for (var i = decorators.length - 1; i >= 0; i--) {\r\n      var context = {};\r\n      for (var p in contextIn) context[p] = p === \"access\" ? {} : contextIn[p];\r\n      for (var p in contextIn.access) context.access[p] = contextIn.access[p];\r\n      context.addInitializer = function (f) { if (done) throw new TypeError(\"Cannot add initializers after decoration has completed\"); extraInitializers.push(accept(f || null)); };\r\n      var result = (0, decorators[i])(kind === \"accessor\" ? { get: descriptor.get, set: descriptor.set } : descriptor[key], context);\r\n      if (kind === \"accessor\") {\r\n          if (result === void 0) continue;\r\n          if (result === null || typeof result !== \"object\") throw new TypeError(\"Object expected\");\r\n          if (_ = accept(result.get)) descriptor.get = _;\r\n          if (_ = accept(result.set)) descriptor.set = _;\r\n          if (_ = accept(result.init)) initializers.unshift(_);\r\n      }\r\n      else if (_ = accept(result)) {\r\n          if (kind === \"field\") initializers.unshift(_);\r\n          else descriptor[key] = _;\r\n      }\r\n  }\r\n  if (target) Object.defineProperty(target, contextIn.name, descriptor);\r\n  done = true;\r\n};\r\n\r\nexport function __runInitializers(thisArg, initializers, value) {\r\n  var useValue = arguments.length > 2;\r\n  for (var i = 0; i < initializers.length; i++) {\r\n      value = useValue ? initializers[i].call(thisArg, value) : initializers[i].call(thisArg);\r\n  }\r\n  return useValue ? value : void 0;\r\n};\r\n\r\nexport function __propKey(x) {\r\n  return typeof x === \"symbol\" ? x : \"\".concat(x);\r\n};\r\n\r\nexport function __setFunctionName(f, name, prefix) {\r\n  if (typeof name === \"symbol\") name = name.description ? \"[\".concat(name.description, \"]\") : \"\";\r\n  return Object.defineProperty(f, \"name\", { configurable: true, value: prefix ? \"\".concat(prefix, \" \", name) : name });\r\n};\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n  if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n  function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n  return new (P || (P = Promise))(function (resolve, reject) {\r\n      function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n      function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n      function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n      step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n  });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n  var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n  return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n  function verb(n) { return function (v) { return step([n, v]); }; }\r\n  function step(op) {\r\n      if (f) throw new TypeError(\"Generator is already executing.\");\r\n      while (g && (g = 0, op[0] && (_ = 0)), _) try {\r\n          if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n          if (y = 0, t) op = [op[0] & 2, t.value];\r\n          switch (op[0]) {\r\n              case 0: case 1: t = op; break;\r\n              case 4: _.label++; return { value: op[1], done: false };\r\n              case 5: _.label++; y = op[1]; op = [0]; continue;\r\n              case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n              default:\r\n                  if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                  if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                  if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                  if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                  if (t[2]) _.ops.pop();\r\n                  _.trys.pop(); continue;\r\n          }\r\n          op = body.call(thisArg, _);\r\n      } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n      if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n  }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n  if (k2 === undefined) k2 = k;\r\n  var desc = Object.getOwnPropertyDescriptor(m, k);\r\n  if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n      desc = { enumerable: true, get: function() { return m[k]; } };\r\n  }\r\n  Object.defineProperty(o, k2, desc);\r\n}) : (function(o, m, k, k2) {\r\n  if (k2 === undefined) k2 = k;\r\n  o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n  for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n  var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n  if (m) return m.call(o);\r\n  if (o && typeof o.length === \"number\") return {\r\n      next: function () {\r\n          if (o && i >= o.length) o = void 0;\r\n          return { value: o && o[i++], done: !o };\r\n      }\r\n  };\r\n  throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n  var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n  if (!m) return o;\r\n  var i = m.call(o), r, ar = [], e;\r\n  try {\r\n      while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n  }\r\n  catch (error) { e = { error: error }; }\r\n  finally {\r\n      try {\r\n          if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n      }\r\n      finally { if (e) throw e.error; }\r\n  }\r\n  return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n  for (var ar = [], i = 0; i < arguments.length; i++)\r\n      ar = ar.concat(__read(arguments[i]));\r\n  return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n  for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n  for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n      for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n          r[k] = a[j];\r\n  return r;\r\n}\r\n\r\nexport function __spreadArray(to, from, pack) {\r\n  if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n      if (ar || !(i in from)) {\r\n          if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n          ar[i] = from[i];\r\n      }\r\n  }\r\n  return to.concat(ar || Array.prototype.slice.call(from));\r\n}\r\n\r\nexport function __await(v) {\r\n  return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n  if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n  var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n  return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\", awaitReturn), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n  function awaitReturn(f) { return function (v) { return Promise.resolve(v).then(f, reject); }; }\r\n  function verb(n, f) { if (g[n]) { i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; if (f) i[n] = f(i[n]); } }\r\n  function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n  function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n  function fulfill(value) { resume(\"next\", value); }\r\n  function reject(value) { resume(\"throw\", value); }\r\n  function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n  var i, p;\r\n  return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n  function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: false } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n  if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n  var m = o[Symbol.asyncIterator], i;\r\n  return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n  function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n  function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n  if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n  return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n  Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n  o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n  if (mod && mod.__esModule) return mod;\r\n  var result = {};\r\n  if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n  __setModuleDefault(result, mod);\r\n  return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n  return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\r\n  if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n  if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n  return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n  if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n  if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n  if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n  return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n\r\nexport function __classPrivateFieldIn(state, receiver) {\r\n  if (receiver === null || (typeof receiver !== \"object\" && typeof receiver !== \"function\")) throw new TypeError(\"Cannot use 'in' operator on non-object\");\r\n  return typeof state === \"function\" ? receiver === state : state.has(receiver);\r\n}\r\n\r\nexport function __addDisposableResource(env, value, async) {\r\n  if (value !== null && value !== void 0) {\r\n    if (typeof value !== \"object\" && typeof value !== \"function\") throw new TypeError(\"Object expected.\");\r\n    var dispose, inner;\r\n    if (async) {\r\n      if (!Symbol.asyncDispose) throw new TypeError(\"Symbol.asyncDispose is not defined.\");\r\n      dispose = value[Symbol.asyncDispose];\r\n    }\r\n    if (dispose === void 0) {\r\n      if (!Symbol.dispose) throw new TypeError(\"Symbol.dispose is not defined.\");\r\n      dispose = value[Symbol.dispose];\r\n      if (async) inner = dispose;\r\n    }\r\n    if (typeof dispose !== \"function\") throw new TypeError(\"Object not disposable.\");\r\n    if (inner) dispose = function() { try { inner.call(this); } catch (e) { return Promise.reject(e); } };\r\n    env.stack.push({ value: value, dispose: dispose, async: async });\r\n  }\r\n  else if (async) {\r\n    env.stack.push({ async: true });\r\n  }\r\n  return value;\r\n}\r\n\r\nvar _SuppressedError = typeof SuppressedError === \"function\" ? SuppressedError : function (error, suppressed, message) {\r\n  var e = new Error(message);\r\n  return e.name = \"SuppressedError\", e.error = error, e.suppressed = suppressed, e;\r\n};\r\n\r\nexport function __disposeResources(env) {\r\n  function fail(e) {\r\n    env.error = env.hasError ? new _SuppressedError(e, env.error, \"An error was suppressed during disposal.\") : e;\r\n    env.hasError = true;\r\n  }\r\n  function next() {\r\n    while (env.stack.length) {\r\n      var rec = env.stack.pop();\r\n      try {\r\n        var result = rec.dispose && rec.dispose.call(rec.value);\r\n        if (rec.async) return Promise.resolve(result).then(next, function(e) { fail(e); return next(); });\r\n      }\r\n      catch (e) {\r\n          fail(e);\r\n      }\r\n    }\r\n    if (env.hasError) throw env.error;\r\n  }\r\n  return next();\r\n}\r\n\r\nexport default {\r\n  __extends,\r\n  __assign,\r\n  __rest,\r\n  __decorate,\r\n  __param,\r\n  __metadata,\r\n  __awaiter,\r\n  __generator,\r\n  __createBinding,\r\n  __exportStar,\r\n  __values,\r\n  __read,\r\n  __spread,\r\n  __spreadArrays,\r\n  __spreadArray,\r\n  __await,\r\n  __asyncGenerator,\r\n  __asyncDelegator,\r\n  __asyncValues,\r\n  __makeTemplateObject,\r\n  __importStar,\r\n  __importDefault,\r\n  __classPrivateFieldGet,\r\n  __classPrivateFieldSet,\r\n  __classPrivateFieldIn,\r\n  __addDisposableResource,\r\n  __disposeResources,\r\n};\r\n", "import {\r\n    TJsonaModel,\r\n    TJsonApiBody,\r\n    TJsonApiData,\r\n    TJsonaDenormalizedIncludeNames,\r\n    TJsonaNormalizedIncludeNamesTree,\r\n    TJsonaUniqueIncluded,\r\n    IModelPropertiesMapper,\r\n    IModelsSerializer,\r\n} from '../JsonaTypes';\r\n\r\nimport {createIncludeNamesTree} from '../utils';\r\n\r\nexport class ModelsSerializer implements IModelsSerializer {\r\n\r\n    protected propertiesMapper: IModelPropertiesMapper;\r\n    protected stuff: TJsonaModel | Array<TJsonaModel>;\r\n    protected includeNamesTree: TJsonaNormalizedIncludeNamesTree;\r\n    private buildIncludedIndex: number;\r\n\r\n    constructor(propertiesMapper?: IModelPropertiesMapper) {\r\n        propertiesMapper && this.setPropertiesMapper(propertiesMapper);\r\n        this.buildIncludedIndex = 0;\r\n    }\r\n\r\n    setPropertiesMapper(propertiesMapper: IModelPropertiesMapper) {\r\n        this.propertiesMapper = propertiesMapper;\r\n    }\r\n\r\n    setStuff(stuff: TJsonaModel | TJsonaModel[]) {\r\n        this.stuff = stuff;\r\n    }\r\n\r\n    setIncludeNames(includeNames: TJsonaDenormalizedIncludeNames | TJsonaNormalizedIncludeNamesTree) {\r\n        if (Array.isArray(includeNames)) {\r\n            const includeNamesTree = {};\r\n            includeNames.forEach((namesChain) => {\r\n                createIncludeNamesTree(namesChain, includeNamesTree);\r\n            });\r\n            this.includeNamesTree = includeNamesTree;\r\n        } else {\r\n            this.includeNamesTree = includeNames;\r\n        }\r\n    }\r\n\r\n    build(): TJsonApiBody {\r\n        const {stuff, propertiesMapper} = this;\r\n\r\n        if (!propertiesMapper || typeof propertiesMapper !== 'object') {\r\n            throw new Error('ModelsSerializer cannot build, propertiesMapper is not set');\r\n        } else if (!stuff || typeof stuff !== 'object') {\r\n            throw new Error('ModelsSerializer cannot build, stuff is not set');\r\n        }\r\n\r\n        const body: TJsonApiBody = {};\r\n        const uniqueIncluded: TJsonaUniqueIncluded = {};\r\n\r\n        if (stuff && Array.isArray(stuff)) {\r\n            const collectionLength = stuff.length;\r\n            const data = [];\r\n\r\n            for (let i = 0; i < collectionLength; i++) {\r\n                data.push(\r\n                  this.buildDataByModel(stuff[i])\r\n                );\r\n\r\n                this.buildIncludedByModel(\r\n                  stuff[i],\r\n                  this.includeNamesTree,\r\n                  uniqueIncluded\r\n                );\r\n            }\r\n\r\n            body['data'] = data;\r\n\r\n        } else if (stuff) {\r\n            body['data'] = this.buildDataByModel(stuff);\r\n\r\n            this.buildIncludedByModel(\r\n              stuff,\r\n              this.includeNamesTree,\r\n              uniqueIncluded\r\n            );\r\n        } else if (stuff === null) {\r\n            body['data'] = null;\r\n        }\r\n\r\n        if (Object.keys(uniqueIncluded).length) {\r\n            body['included'] = Object.values(uniqueIncluded);\r\n        }\r\n\r\n        return body;\r\n    }\r\n\r\n    buildDataByModel(model: TJsonaModel | null): TJsonApiData {\r\n        const id = this.propertiesMapper.getId(model);\r\n        const type = this.propertiesMapper.getType(model);\r\n        const attributes = this.propertiesMapper.getAttributes(model);\r\n        const data = { type,\r\n            ...(typeof id !== 'undefined' ? { id } : {}),\r\n            ...(typeof attributes !== 'undefined' ? { attributes } : {}),\r\n        };\r\n\r\n        if (typeof data.type !== 'string' || !data.type) {\r\n            console.warn('ModelsSerializer cannot buildDataByModel, type is not set or incorrect', model);\r\n            throw new Error('ModelsSerializer cannot buildDataByModel, type is not set or incorrect');\r\n        }\r\n\r\n        const relationships = this.buildRelationshipsByModel(model);\r\n\r\n        if (relationships && Object.keys(relationships).length) {\r\n            data['relationships'] = relationships;\r\n        }\r\n\r\n        return data;\r\n    }\r\n\r\n    buildResourceObjectPart(relation: TJsonaModel) {\r\n        const id = this.propertiesMapper.getId(relation);\r\n        const type = this.propertiesMapper.getType(relation);\r\n\r\n        return {\r\n            type,\r\n            ...(typeof id === 'undefined' ? {} : { id }),\r\n        };\r\n    }\r\n\r\n    buildRelationshipsByModel(model: TJsonaModel) {\r\n        const relations = this.propertiesMapper.getRelationships(model);\r\n\r\n        if (!relations || !Object.keys(relations).length) {\r\n            return;\r\n        }\r\n\r\n        const relationships = {};\r\n\r\n        Object.keys(relations).forEach((k) => {\r\n            const relation = relations[k];\r\n\r\n            if (Array.isArray(relation)) {\r\n                const relationshipData = [];\r\n\r\n                for (const relationItem of relation) {\r\n                    const relationshipDataItem = this.buildResourceObjectPart(relationItem);\r\n\r\n                    if ('type' in relationshipDataItem) {\r\n                        relationshipData.push(relationshipDataItem);\r\n                    } else {\r\n                        console.error(\r\n                          `Can't create data item for relationship ${k},\r\n                            it doesn't have 'id' or 'type', it was skipped`,\r\n                          relationItem\r\n                        );\r\n                    }\r\n                }\r\n\r\n                relationships[k] = {\r\n                    data: relationshipData\r\n                };\r\n            } else if (relation) {\r\n                const item = this.buildResourceObjectPart(relation);\r\n\r\n                if ('type' in item) {\r\n                    relationships[k] = {\r\n                        data: item\r\n                    };\r\n                } else {\r\n                    console.error(\r\n                      `Can't create data for relationship ${k}, it doesn't have 'type', it was skipped`,\r\n                      relation\r\n                    );\r\n                }\r\n            } else {\r\n                relationships[k] = {\r\n                    data: relation\r\n                };\r\n            }\r\n        });\r\n\r\n        return relationships;\r\n    }\r\n\r\n    buildIncludedByModel(\r\n      model: TJsonaModel,\r\n      includeTree: TJsonaNormalizedIncludeNamesTree,\r\n      builtIncluded: TJsonaUniqueIncluded = {}\r\n    ): void {\r\n        if (!includeTree || !Object.keys(includeTree).length) {\r\n            return;\r\n        }\r\n\r\n        const modelRelationships = this.propertiesMapper.getRelationships(model);\r\n        if (!modelRelationships || !Object.keys(modelRelationships).length) {\r\n            return;\r\n        }\r\n\r\n        const includeNames = Object.keys(includeTree);\r\n        const includeNamesLength = includeNames.length;\r\n\r\n        for (let i = 0; i < includeNamesLength; i++) {\r\n            const currentRelationName = includeNames[i];\r\n            const relation: TJsonaModel | Array<TJsonaModel> = modelRelationships[currentRelationName];\r\n\r\n            if (relation) {\r\n                if (Array.isArray(relation)) {\r\n                    let relationModelsLength = relation.length;\r\n\r\n                    for (let r = 0; r < relationModelsLength; r++) {\r\n                        const relationModel: TJsonaModel = relation[r];\r\n                        this.buildIncludedItem(relationModel, includeTree[currentRelationName], builtIncluded);\r\n                    }\r\n                } else {\r\n                    this.buildIncludedItem(relation, includeTree[currentRelationName], builtIncluded);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    buildIncludedItem(\r\n      relationModel: TJsonaModel,\r\n      subIncludeTree: TJsonaNormalizedIncludeNamesTree,\r\n      builtIncluded: TJsonaUniqueIncluded\r\n    ) {\r\n        const id = this.propertiesMapper.getId(relationModel);\r\n        const type = this.propertiesMapper.getType(relationModel);\r\n        let includeKey = type + id;\r\n\r\n        if (!id || !builtIncluded[includeKey]) {\r\n            // create data by current entity if such included is not yet created\r\n            if (includeKey in builtIncluded) {\r\n                includeKey += this.buildIncludedIndex;\r\n                this.buildIncludedIndex += 1;\r\n            }\r\n            builtIncluded[includeKey] = this.buildDataByModel(relationModel);\r\n\r\n            if (subIncludeTree) {\r\n                this.buildIncludedByModel(relationModel, subIncludeTree, builtIncluded);\r\n            }\r\n        }\r\n    }\r\n\r\n}\r\n\r\nexport default ModelsSerializer;", "import {\r\n    IJsonPropertiesMapper,\r\n    TJsonaModel,\r\n    TJsonaRelationships,\r\n    TJsonApiBody,\r\n    TJsonApiData,\r\n    IJsonaDeserializer,\r\n    IDeserializeCache,\r\n    TResourceIdObj,\r\n} from '../JsonaTypes';\r\n\r\nexport class JsonDeserializer implements IJsonaDeserializer {\r\n\r\n    protected pm: IJsonPropertiesMapper;\r\n    protected dc: IDeserializeCache;\r\n    protected body;\r\n    protected dataInObject;\r\n    protected preferNestedDataFromData = false;\r\n    protected includedInObject;\r\n\r\n    constructor(propertiesMapper, deserializeCache, options) {\r\n        this.setPropertiesMapper(propertiesMapper);\r\n        this.setDeserializeCache(deserializeCache);\r\n\r\n        if (!options) {\r\n            return;\r\n        }\r\n\r\n        if (options.preferNestedDataFromData) {\r\n            this.preferNestedDataFromData = true;\r\n        }\r\n    }\r\n\r\n    setDeserializeCache(dc): void {\r\n        this.dc = dc;\r\n    }\r\n\r\n    setPropertiesMapper(pm): void {\r\n        this.pm = pm;\r\n    }\r\n\r\n    setJsonParsedObject(body: TJsonApiBody): void {\r\n        this.body = body;\r\n    }\r\n\r\n    build(): TJsonaModel | Array<TJsonaModel> {\r\n        const {data} = this.body;\r\n        let stuff;\r\n\r\n        if (Array.isArray(data)) {\r\n            stuff = [];\r\n            const collectionLength = data.length;\r\n\r\n            for (let i = 0; i < collectionLength; i++) {\r\n                if (data[i]) {\r\n                    const model = this.buildModelByData(data[i]);\r\n\r\n                    if (model) {\r\n                        stuff.push(model);\r\n                    }\r\n                }\r\n            }\r\n        } else if (data) {\r\n            stuff = this.buildModelByData(data);\r\n        }\r\n\r\n        return stuff;\r\n    }\r\n\r\n    buildModelByData(data: TJsonApiData, resourceIdObj?: TResourceIdObj): TJsonaModel {\r\n        const cachedModel = this.dc.getCachedModel(data, resourceIdObj);\r\n\r\n        if (cachedModel) {\r\n            return cachedModel;\r\n        }\r\n\r\n        const model = this.pm.createModel(data.type);\r\n\r\n        this.dc.handleModel(model, data, resourceIdObj); // should be called before this.pm.setRelationships(model, relationships);\r\n\r\n        if (model) {\r\n            this.pm.setId(model, data.id);\r\n\r\n            if (data.attributes) {\r\n                this.pm.setAttributes(model, data.attributes);\r\n            }\r\n\r\n            if (data.meta && this.pm.setMeta) {\r\n                this.pm.setMeta(model, data.meta);\r\n            }\r\n\r\n            if (data.links && this.pm.setLinks) {\r\n                this.pm.setLinks(model, data.links);\r\n            }\r\n\r\n            if (resourceIdObj?.meta) {\r\n                this.pm.setResourceIdObjMeta(model, resourceIdObj.meta);\r\n            }\r\n\r\n            const relationships: null | TJsonaRelationships = this.buildRelationsByData(data, model);\r\n\r\n            if (relationships) {\r\n                this.pm.setRelationships(model, relationships);\r\n            }\r\n        }\r\n\r\n        return model;\r\n    }\r\n\r\n    buildRelationsByData(data: TJsonApiData, model: TJsonaModel): TJsonaRelationships | null {\r\n        const readyRelations = {};\r\n\r\n        if (data.relationships) {\r\n            for (let k in data.relationships) {\r\n                const relation = data.relationships[k];\r\n\r\n                if (Array.isArray(relation.data)) {\r\n                    readyRelations[k] = [];\r\n\r\n                    const relationDataLength = relation.data.length;\r\n                    let resourceIdObj;\r\n\r\n                    for (let i = 0; i < relationDataLength; i++) {\r\n                        resourceIdObj = relation.data[i];\r\n\r\n                        if (!resourceIdObj) {\r\n                            continue;\r\n                        }\r\n\r\n                        let dataItem = this.buildDataFromIncludedOrData(\r\n                            resourceIdObj.id,\r\n                            resourceIdObj.type\r\n                        );\r\n                        readyRelations[k].push(\r\n                            this.buildModelByData(dataItem, resourceIdObj)\r\n                        );\r\n                    }\r\n                } else if (relation.data) {\r\n                    let dataItem = this.buildDataFromIncludedOrData(relation.data.id, relation.data.type);\r\n                    readyRelations[k] = this.buildModelByData(dataItem, relation.data);\r\n                } else if (relation.data === null) {\r\n                    readyRelations[k] = null;\r\n                }\r\n\r\n                if (relation.links) {\r\n                    const {setRelationshipLinks} = this.pm;\r\n                    if (setRelationshipLinks) {\r\n                        setRelationshipLinks(model, k, relation.links);\r\n                    }\r\n                }\r\n\r\n                if (relation.meta) {\r\n                    const {setRelationshipMeta} = this.pm;\r\n                    if (setRelationshipMeta) {\r\n                        setRelationshipMeta(model, k, relation.meta);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        if (Object.keys(readyRelations).length) {\r\n            return <TJsonaRelationships> readyRelations;\r\n        }\r\n\r\n        return null;\r\n    }\r\n\r\n    buildDataFromIncludedOrData(id: string | number, type: string): TJsonApiData {\r\n\r\n        if (this.preferNestedDataFromData) {\r\n            const dataObject = this.buildDataInObject();\r\n            const dataItemFromData = dataObject[type + id];\r\n\r\n            if (dataItemFromData) {\r\n                return dataItemFromData;\r\n            }\r\n        }\r\n\r\n        const includedObject = this.buildIncludedInObject();\r\n        const dataItemFromIncluded = includedObject[type + id];\r\n\r\n        if (dataItemFromIncluded) {\r\n            return dataItemFromIncluded;\r\n        }\r\n\r\n        if (!this.preferNestedDataFromData) {\r\n            const dataObject = this.buildDataInObject();\r\n            const dataItemFromData = dataObject[type + id];\r\n\r\n            if (dataItemFromData) {\r\n                return dataItemFromData;\r\n            }\r\n        }\r\n\r\n        return { id: id, type: type };\r\n    }\r\n\r\n    buildDataInObject(): { [key: string]: TJsonApiData } {\r\n        if (!this.dataInObject) {\r\n            this.dataInObject = {};\r\n\r\n            const { data } = this.body;\r\n            const dataLength = data.length;\r\n\r\n            if (data && dataLength) {\r\n                for (let i = 0; i < dataLength; i++) {\r\n                    let item = data[i];\r\n                    this.dataInObject[item.type + item.id] = item;\r\n                }\r\n            } else if (data) {\r\n                this.dataInObject[data.type + data.id] = data;\r\n            }\r\n        }\r\n\r\n        return this.dataInObject;\r\n    }\r\n\r\n    buildIncludedInObject(): { [key: string]: TJsonApiData } {\r\n        if (!this.includedInObject) {\r\n            this.includedInObject = {};\r\n\r\n            if (this.body.included) {\r\n                let includedLength = this.body.included.length;\r\n                for (let i = 0; i < includedLength; i++) {\r\n                    let item = this.body.included[i];\r\n                    this.includedInObject[item.type + item.id] = item;\r\n                }\r\n            }\r\n        }\r\n\r\n        return this.includedInObject;\r\n    }\r\n\r\n}\r\n\r\nexport default JsonDeserializer;", "import {\r\n    IJsonaModelBuilder,\r\n    IJsonPropertiesMapper,\r\n    TJsonaModel,\r\n    TJsonaRelationships,\r\n    TReduxObject,\r\n    TReduxObjectModel,\r\n    TJsonApiRelationships,\r\n    TJsonApiRelationshipData\r\n} from '../JsonaTypes';\r\n\r\nclass ReduxObjectDenormalizer implements IJsonaModelBuilder {\r\n\r\n    protected propertiesMapper: IJsonPropertiesMapper;\r\n    protected reduxObject: TReduxObject;\r\n    protected entityType: string;\r\n    protected ids?: string | Array<string>;\r\n    protected returnBuilderInRelations: boolean;\r\n    protected cachedModels = {};\r\n\r\n    constructor(propertiesMapper) {\r\n        this.setPropertiesMapper(propertiesMapper);\r\n    }\r\n\r\n    setPropertiesMapper(propertiesMapper: IJsonPropertiesMapper) {\r\n        this.propertiesMapper = propertiesMapper;\r\n    }\r\n\r\n    setReduxObject(reduxObject: TReduxObject) {\r\n        this.reduxObject = reduxObject;\r\n    }\r\n    setEntityType(entityType: string) {\r\n        this.entityType = entityType;\r\n    }\r\n\r\n    setEntityIds(ids: string | Array<string>) {\r\n        this.ids = ids;\r\n    }\r\n\r\n    setReturnBuilderInRelations(returnBuilderInRelations: boolean) {\r\n        this.returnBuilderInRelations = returnBuilderInRelations;\r\n    }\r\n\r\n    build(): null | TJsonaModel | Array<TJsonaModel> {\r\n        const {reduxObject, entityType, propertiesMapper} = this;\r\n\r\n        if (!propertiesMapper || typeof propertiesMapper !== 'object') {\r\n            throw new Error('ReduxObjectDenormalizer cannot build, propertiesMapper is not set');\r\n        } else if (!reduxObject || typeof reduxObject !== 'object') {\r\n            throw new Error('ReduxObjectDenormalizer cannot build, reduxObject is not set');\r\n        } else if (!entityType) {\r\n            throw new Error('ReduxObjectDenormalizer cannot build, entityType is not set');\r\n        }\r\n\r\n        if (!reduxObject[entityType]) {\r\n            return null;\r\n        }\r\n\r\n        let {ids} = this;\r\n\r\n        if (!ids) {\r\n            ids = Object.keys(reduxObject[entityType]);\r\n        }\r\n\r\n        if (Array.isArray(ids)) {\r\n\r\n            if (!ids.length) {\r\n                return null;\r\n            }\r\n\r\n            const models = [];\r\n\r\n            ids.forEach((id) => {\r\n                const model = this.buildModel(entityType, id);\r\n                if (model) {\r\n                    models.push(model);\r\n                }\r\n            });\r\n\r\n            return models;\r\n        }\r\n\r\n        return this.buildModel(entityType, ids);\r\n    }\r\n\r\n    buildModel(type: string, id: string | number): null | TJsonaModel {\r\n        const {reduxObject} = this;\r\n\r\n        if (!reduxObject[type]) {\r\n            return null;\r\n        }\r\n\r\n        const reduxObjectModel: TReduxObjectModel = reduxObject[type][id];\r\n\r\n        if (!reduxObjectModel) {\r\n            return null;\r\n        }\r\n\r\n        // checks for built model in cachedModels is a protection from creating models on recursive relationships\r\n        const entityKey = `${type}-${id}`;\r\n        let model = this.cachedModels[entityKey];\r\n\r\n        if (!model) {\r\n            model = this.propertiesMapper.createModel(type);\r\n\r\n            if (model) {\r\n                this.cachedModels[entityKey] = model;\r\n\r\n                this.propertiesMapper.setId(model, reduxObjectModel.id);\r\n\r\n                if (reduxObjectModel.attributes) {\r\n                    this.propertiesMapper.setAttributes(model, reduxObjectModel.attributes);\r\n                }\r\n\r\n                const relationships = this.buildRelationships(model, reduxObjectModel.relationships);\r\n\r\n                if (relationships) {\r\n                    this.propertiesMapper.setRelationships(model, relationships)\r\n                }\r\n            }\r\n        }\r\n\r\n        return model;\r\n    }\r\n\r\n    buildRelationships(model: TJsonaModel, reduxObjectRelationships: TJsonApiRelationships): null | TJsonaRelationships {\r\n\r\n        if (!reduxObjectRelationships) {\r\n            return null;\r\n        }\r\n        const relationNames = Object.keys(reduxObjectRelationships);\r\n\r\n        if (!relationNames.length) {\r\n            return null;\r\n        }\r\n\r\n        const relations = {};\r\n\r\n        relationNames.forEach((relationName) => {\r\n            const relation = reduxObjectRelationships[relationName];\r\n\r\n            if (relation && relation.data) {\r\n                if (this.returnBuilderInRelations) {\r\n                    relations[relationName] = this.buildRelationModels.bind(this, relation.data);\r\n                } else {\r\n                    relations[relationName] = this.buildRelationModels(relation.data);\r\n                }\r\n            }\r\n\r\n            if (relation && relation.links) {\r\n                this.propertiesMapper.setRelationshipLinks(model, relationName, relation.links);\r\n            }\r\n\r\n            if (relation && relation.meta) {\r\n                const {setRelationshipMeta} = this.propertiesMapper;\r\n                if (setRelationshipMeta) { // support was added in patch release\r\n                    setRelationshipMeta(model, relationName, relation.meta);\r\n                }\r\n            }\r\n        });\r\n\r\n        return Object.keys(relations).length ? relations : null;\r\n    }\r\n\r\n    buildRelationModels(\r\n        data: TJsonApiRelationshipData | Array<TJsonApiRelationshipData>\r\n    ): null | TJsonaModel | Array<TJsonaModel> {\r\n\r\n        if (Array.isArray(data)) {\r\n            const relationModels = [];\r\n\r\n            data.forEach((dataItem) => {\r\n                const model = this.buildModel(dataItem.type, dataItem.id);\r\n                relationModels.push(model || dataItem);\r\n            });\r\n\r\n            return relationModels;\r\n        } else if (data.id && data.type) {\r\n            return this.buildModel(data.type, data.id) || data;\r\n        }\r\n\r\n        return null;\r\n    }\r\n}\r\n\r\nexport default ReduxObjectDenormalizer;\r\n", "import {\r\n    IModelPropertiesMapper,\r\n    IJsonPropertiesMapper,\r\n    TAnyKeyValueObject,\r\n    TJsonaModel,\r\n    TJsonaRelationships, TJsonaRelationshipBuild, TJsonApiLinks, TResourceIdObj\r\n} from './JsonaTypes';\r\n\r\nexport const RELATIONSHIP_NAMES_PROP = 'relationshipNames';\r\n\r\nexport class ModelPropertiesMapper implements IModelPropertiesMapper {\r\n\r\n    getId(model: TJsonaModel) {\r\n        return model.id;\r\n    }\r\n\r\n    getType(model: TJsonaModel) {\r\n        return model.type;\r\n    }\r\n\r\n    getAttributes(model: TJsonaModel) {\r\n        let exceptProps = ['id', 'type', RELATIONSHIP_NAMES_PROP];\r\n\r\n        if (Array.isArray(model[RELATIONSHIP_NAMES_PROP])) {\r\n\r\n            exceptProps.push(...model[RELATIONSHIP_NAMES_PROP]);\r\n\r\n        } else if (model[RELATIONSHIP_NAMES_PROP]) {\r\n            console.warn(\r\n                `Can't getAttributes correctly, '${RELATIONSHIP_NAMES_PROP}' property of ${model.type}-${model.id} model\r\n                isn't array of relationship names`,\r\n                model[RELATIONSHIP_NAMES_PROP]\r\n            );\r\n        }\r\n\r\n        const attributes = {};\r\n        Object.keys(model).forEach((attrName) => {\r\n            if (exceptProps.indexOf(attrName) === -1) {\r\n                attributes[attrName] = model[attrName];\r\n            }\r\n        });\r\n\r\n        return attributes;\r\n    }\r\n\r\n    getRelationships(model: TJsonaModel) {\r\n        const relationshipNames = model[RELATIONSHIP_NAMES_PROP];\r\n\r\n        if (!relationshipNames || Array.isArray(relationshipNames) && !relationshipNames.length) {\r\n            return;\r\n        } else if (relationshipNames && !Array.isArray(relationshipNames)) {\r\n            console.warn(\r\n                `Can't getRelationships correctly,\r\n                '${RELATIONSHIP_NAMES_PROP}' property of ${model.type}-${model.id} model\r\n                isn't array of relationship names`,\r\n                model[RELATIONSHIP_NAMES_PROP]\r\n            );\r\n            return;\r\n        }\r\n\r\n        const relationships = {};\r\n        relationshipNames.forEach((relationName) => {\r\n            if (model[relationName] !== undefined) {\r\n                relationships[relationName] = model[relationName];\r\n            }\r\n        });\r\n        return relationships;\r\n    }\r\n}\r\n\r\nexport function defineRelationGetter(\r\n    model,\r\n    relationName,\r\n    buildRelation: TJsonaRelationshipBuild\r\n) {\r\n    Object.defineProperty(\r\n        model,\r\n        relationName,\r\n        {\r\n            enumerable: true,\r\n            configurable: true,\r\n            set: (value) => {\r\n                delete model[relationName];\r\n                model[relationName] = value;\r\n            },\r\n            get: () => {\r\n                delete model[relationName];\r\n                return model[relationName] = buildRelation();\r\n            },\r\n        },\r\n    );\r\n}\r\n\r\nexport class JsonPropertiesMapper implements IJsonPropertiesMapper {\r\n\r\n    createModel(type: string): TJsonaModel {\r\n        return {type};\r\n    }\r\n\r\n    setId(model: TJsonaModel, id: string | number) {\r\n        model.id = id;\r\n    }\r\n\r\n    setAttributes(model: TJsonaModel, attributes: TAnyKeyValueObject) {\r\n        Object.keys(attributes).forEach((propName) => {\r\n            model[propName] = attributes[propName];\r\n        });\r\n    }\r\n\r\n    setMeta(model: TJsonaModel, meta: TAnyKeyValueObject) {\r\n        model.meta = meta;\r\n    }\r\n\r\n    setLinks(model: TJsonaModel, links: TJsonApiLinks) {\r\n        model.links = links;\r\n    }\r\n\r\n    setResourceIdObjMeta(model: TJsonaModel, meta: TResourceIdObj) {\r\n        model.resourceIdObjMeta = meta;\r\n    }\r\n\r\n    setRelationships(model: TJsonaModel, relationships: TJsonaRelationships) {\r\n\r\n        Object.keys(relationships).forEach((propName) => {\r\n            if (typeof relationships[propName] === 'function') {\r\n                defineRelationGetter(model, propName, <TJsonaRelationshipBuild> relationships[propName]);\r\n            } else {\r\n                model[propName] = relationships[propName];\r\n            }\r\n        });\r\n\r\n        const newNames = Object.keys(relationships);\r\n        const currentNames = model[RELATIONSHIP_NAMES_PROP];\r\n\r\n        if (currentNames && currentNames.length) {\r\n            model[RELATIONSHIP_NAMES_PROP] = [...currentNames, ...newNames].filter((value, i, self) => self.indexOf(value) === i);\r\n        } else {\r\n            model[RELATIONSHIP_NAMES_PROP] = newNames;\r\n        }\r\n    }\r\n\r\n    setRelationshipLinks(parentModel: TJsonaModel, relationName: string, links: TJsonApiLinks) {\r\n        // inherit your IJsonPropertiesMapper and overload this method, if you want to handle relationship links\r\n    }\r\n\r\n    setRelationshipMeta(parentModel: TJsonaModel, relationName: string, links: TAnyKeyValueObject) {\r\n        // inherit your IJsonPropertiesMapper and overload this method, if you want to handle relationship meta\r\n    }\r\n}\r\n", "import {\r\n    IDeserializeCache, TAnyKeyValueObject, TJsonaModel, TJsonApiData, TResourceIdObj\r\n} from './JsonaTypes';\r\n\r\n\r\nexport function jsonStringify(json: TAnyKeyValueObject): string {\r\n    let stringified;\r\n\r\n    try {\r\n        stringified = JSON.stringify(json);\r\n    } catch (e) {\r\n        stringified = '';\r\n        console.warn(e);\r\n    }\r\n\r\n    return stringified;\r\n}\r\n\r\nexport class DeserializeCache implements IDeserializeCache {\r\n\r\n    protected cachedModels = {};\r\n\r\n    getCachedModel(data:TJsonApiData, resourceIdObject: TResourceIdObj) {\r\n        const entityKey = this.createCacheKey(data, resourceIdObject);\r\n        return this.cachedModels[entityKey] || null;\r\n    }\r\n\r\n    handleModel(model: TJsonaModel, data: TJsonApiData, resourceIdObject: TResourceIdObj) {\r\n        const entityKey = this.createCacheKey(data, resourceIdObject);\r\n        const dataWithPayload = data.attributes || data.relationships;\r\n\r\n        if (entityKey && dataWithPayload) {\r\n            this.cachedModels[entityKey] = model;\r\n        }\r\n    }\r\n\r\n    createCacheKey(data, resourceIdObject?: TResourceIdObj) {\r\n        // resourceIdObject.meta sets to model in simplePropertyMappers.ts, so it should be used here too\r\n        // cache in this case probably will be redundant\r\n        if (!data.id || !data.type) {\r\n            return;\r\n        }\r\n\r\n        let resourcePart = resourceIdObject ? `${resourceIdObject.type}-${resourceIdObject.id}` : '';\r\n\r\n        if (resourceIdObject?.meta) {\r\n            resourcePart += `-${jsonStringify(resourceIdObject.meta)}`;\r\n        }\r\n\r\n        if (data.meta) {\r\n            return `${data.type}-${data.id}-${jsonStringify(data.meta)}-${resourcePart}`;\r\n        }\r\n\r\n        return `${data.type}-${data.id}-${resourcePart}`;\r\n    }\r\n\r\n}\r\n", "import {\r\n    IModelPropertiesMapper,\r\n    IModelsSerializerConstructor,\r\n    IJsonDeserializerConstructor,\r\n    IJsonPropertiesMapper,\r\n    TJsonaDenormalizedIncludeNames,\r\n    TJsonaNormalizedIncludeNamesTree,\r\n    TJsonaModel,\r\n    TJsonApiBody,\r\n    TReduxObject,\r\n    IDeserializeCacheConstructor,\r\n    TDeserializeOptions\r\n} from './JsonaTypes';\r\n\r\nimport {jsonParse} from './utils';\r\nimport ModelsSerializer from './builders/ModelsSerializer';\r\nimport JsonDeserializer from './builders/JsonDeserializer';\r\nimport ReduxObjectDenormalizer from './builders/ReduxObjectDenormalizer';\r\n\r\nimport {\r\n    ModelPropertiesMapper,\r\n    JsonPropertiesMapper\r\n} from './simplePropertyMappers';\r\n\r\nimport { DeserializeCache } from './cache';\r\n\r\nclass Jsona {\r\n\r\n    public modelPropertiesMapper: IModelPropertiesMapper = new ModelPropertiesMapper();\r\n    public jsonPropertiesMapper: IJsonPropertiesMapper = new JsonPropertiesMapper();\r\n    public DeserializeCache: IDeserializeCacheConstructor = DeserializeCache;\r\n    public ModelsSerializer: IModelsSerializerConstructor = ModelsSerializer;\r\n    public JsonDeserializer: IJsonDeserializerConstructor = JsonDeserializer;\r\n\r\n    constructor(params?: {\r\n        modelPropertiesMapper?: IModelPropertiesMapper,\r\n        jsonPropertiesMapper?: IJsonPropertiesMapper,\r\n        DeserializeCache?: IDeserializeCacheConstructor,\r\n        ModelsSerializer?: IModelsSerializerConstructor,\r\n        JsonDeserializer?: IJsonDeserializerConstructor,\r\n    }) {\r\n        if (params && params.modelPropertiesMapper) {\r\n            this.modelPropertiesMapper = params.modelPropertiesMapper;\r\n        }\r\n        if (params && params.jsonPropertiesMapper) {\r\n            this.jsonPropertiesMapper = params.jsonPropertiesMapper;\r\n        }\r\n        if (params && params.DeserializeCache) {\r\n            this.DeserializeCache = params.DeserializeCache;\r\n        }\r\n        if (params && params.ModelsSerializer) {\r\n            this.ModelsSerializer = params.ModelsSerializer;\r\n        }\r\n        if (params && params.JsonDeserializer) {\r\n            this.JsonDeserializer = params.JsonDeserializer;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * serialize\r\n     * Creates JSON, compatible with json:api specification from Jsona model(s).\r\n     */\r\n    serialize({\r\n                  stuff, includeNames}: {\r\n            stuff: TJsonaModel | Array<TJsonaModel>,\r\n            includeNames?: TJsonaDenormalizedIncludeNames | TJsonaNormalizedIncludeNamesTree\r\n        }\r\n    ): TJsonApiBody {\r\n        if (!stuff) {\r\n            throw new Error('Jsona can not serialize, stuff is not passed');\r\n        }\r\n\r\n        const jsonBuilder = new this.ModelsSerializer(this.modelPropertiesMapper);\r\n\r\n        jsonBuilder.setStuff(stuff);\r\n\r\n        if (includeNames) {\r\n            jsonBuilder.setIncludeNames(includeNames);\r\n        }\r\n\r\n        return jsonBuilder.build();\r\n    }\r\n\r\n    /**\r\n     * deserialize\r\n     * Creates Jsona model(s) from JSON, compatible with json:api specification.\r\n     */\r\n    deserialize(body: TJsonApiBody | string, options?: TDeserializeOptions): TJsonaModel | Array<TJsonaModel> {\r\n        if (!body) {\r\n            throw new Error('Jsona can not deserialize, body is not passed');\r\n        }\r\n\r\n        const deserializeCache = new this.DeserializeCache();\r\n        const modelBuilder = new this.JsonDeserializer(this.jsonPropertiesMapper, deserializeCache, options);\r\n\r\n        if (typeof body === 'string') {\r\n            modelBuilder.setJsonParsedObject(jsonParse(body));\r\n        } else {\r\n            modelBuilder.setJsonParsedObject(body);\r\n        }\r\n\r\n        return modelBuilder.build();\r\n    }\r\n\r\n    /**\r\n     * denormalizeReduxObject\r\n     * Creates Jsona model(s) from ReduxObject, that creates by json-api-normalizer\r\n     * https://github.com/yury-dymov/json-api-normalizer\r\n     *\r\n     */\r\n    denormalizeReduxObject(\r\n        {reduxObject, entityType, entityIds, returnBuilderInRelations = false}: {\r\n            reduxObject: TReduxObject,\r\n            entityType: string,\r\n            entityIds?: string | Array<string>,\r\n            returnBuilderInRelations?: boolean,\r\n        }\r\n    ): null | TJsonaModel | Array<TJsonaModel> {\r\n\r\n        if (!reduxObject) {\r\n            throw new Error('Jsona can not denormalize ReduxObject, incorrect reduxObject passed');\r\n        }\r\n        if (!entityType) {\r\n            throw new Error('Jsona can not denormalize ReduxObject, entityType is not passed');\r\n        }\r\n\r\n        if (!reduxObject[entityType]) {\r\n            return null;\r\n        }\r\n\r\n        const modelBuilder = new ReduxObjectDenormalizer(this.jsonPropertiesMapper);\r\n\r\n        modelBuilder.setReduxObject(reduxObject);\r\n        modelBuilder.setEntityType(entityType);\r\n        modelBuilder.setReturnBuilderInRelations(returnBuilderInRelations);\r\n\r\n        if (entityIds) {\r\n            modelBuilder.setEntityIds(\r\n                Array.isArray(entityIds) ? entityIds : entityIds.toString()\r\n            );\r\n        }\r\n\r\n        return modelBuilder.build();\r\n    }\r\n\r\n}\r\n\r\nexport default Jsona;\r\n", "import {\r\n    IModelPropertiesMapper,\r\n    IJsonPropertiesMapper,\r\n    TAnyKeyValueObject,\r\n    TJsonaModel, TJsonaRelationships,\r\n    SwitchCaseModelMapperOptionsType,\r\n    SwitchCaseJsonMapperOptionsType,\r\n} from './JsonaTypes';\r\nimport {\r\n    ModelPropertiesMapper, \r\n    JsonPropertiesMapper,\r\n    RELATIONSHIP_NAMES_PROP,\r\n} from './simplePropertyMappers';\r\nimport {\r\n    isPlainObject\r\n} from './utils';\r\n\r\nexport class SwitchCaseModelMapper extends ModelPropertiesMapper implements IModelPropertiesMapper {\r\n\r\n    switchAttributes: boolean;\r\n    switchRelationships: boolean;\r\n    switchType: boolean;\r\n    switchChar: string;\r\n    regex: RegExp;\r\n\r\n    constructor(options?: SwitchCaseModelMapperOptionsType) {\r\n        super();\r\n\r\n        const {\r\n            switchAttributes = true,\r\n            switchRelationships = true,\r\n            switchType = true,\r\n            switchChar = '-',\r\n        } = options || {};\r\n\r\n        this.switchAttributes = switchAttributes;\r\n        this.switchRelationships = switchRelationships;\r\n        this.switchType = switchType;\r\n        this.switchChar = switchChar;\r\n        this.regex = new RegExp(/([a-z][A-Z0-9])/g);\r\n    }\r\n\r\n    getType(model: TJsonaModel) {\r\n        const type = super.getType(model);\r\n\r\n        if (!this.switchType || !type) {\r\n            return type;\r\n        }\r\n\r\n        return this.convertFromCamelCaseString(type);\r\n    }\r\n\r\n    getAttributes(model: TJsonaModel) {\r\n        const camelCasedAttributes = super.getAttributes(model);\r\n\r\n        if (!this.switchAttributes || !camelCasedAttributes) {\r\n            return camelCasedAttributes;\r\n        }\r\n\r\n        return this.convertFromCamelCase(camelCasedAttributes);\r\n    }\r\n\r\n    getRelationships(model: TJsonaModel) {\r\n        const camelCasedRelationships = super.getRelationships(model);\r\n\r\n        if (!this.switchRelationships || !camelCasedRelationships) {\r\n            return camelCasedRelationships;\r\n        }\r\n\r\n        return this.convertFromCamelCase(camelCasedRelationships);\r\n    }\r\n\r\n    private convertFromCamelCase(stuff: unknown) {\r\n        if (Array.isArray(stuff)) {\r\n            return stuff.map(item => this.convertFromCamelCase(item));\r\n        }\r\n        \r\n        if(isPlainObject(stuff)) {\r\n            const converted = {};\r\n            Object.entries(stuff).forEach(([propName, value]) => {\r\n                const kebabName = this.convertFromCamelCaseString(propName);\r\n                converted[kebabName] = this.convertFromCamelCase(value);\r\n            })\r\n            return converted;\r\n        }\r\n\r\n        return stuff;\r\n    }\r\n\r\n    private convertFromCamelCaseString(camelCaseString: string) {\r\n        return camelCaseString.replace(this.regex, g => g[0] + this.switchChar + g[1].toLowerCase());\r\n    }\r\n}\r\n\r\nexport class SwitchCaseJsonMapper extends JsonPropertiesMapper implements IJsonPropertiesMapper {\r\n\r\n    camelizeAttributes: boolean;\r\n    camelizeRelationships: boolean;\r\n    camelizeType: boolean;\r\n    camelizeMeta: boolean;\r\n    switchChar: string;\r\n    regex: RegExp;\r\n\r\n    constructor(options?: SwitchCaseJsonMapperOptionsType) {\r\n        super();\r\n\r\n        const {\r\n            camelizeAttributes = true,\r\n            camelizeRelationships = true,\r\n            camelizeType = true,\r\n            camelizeMeta = false,\r\n            switchChar = '-'\r\n        } = options || {};\r\n\r\n        this.camelizeAttributes = camelizeAttributes;\r\n        this.camelizeRelationships = camelizeRelationships;\r\n        this.camelizeType = camelizeType;\r\n        this.camelizeMeta = camelizeMeta;\r\n        this.switchChar = switchChar;\r\n        this.regex = new RegExp(`${this.switchChar}([a-z0-9])`, 'g');\r\n    }\r\n\r\n    createModel(type: string): TJsonaModel {\r\n        if (!this.camelizeType) {\r\n            return {type};\r\n        }\r\n\r\n        const camelizedType = this.convertToCamelCaseString(type);\r\n        return {type: camelizedType};\r\n    }\r\n\r\n    setAttributes(model: TJsonaModel, attributes: TAnyKeyValueObject) {\r\n        if (!this.camelizeAttributes) {\r\n            return super.setAttributes(model, attributes);\r\n        }\r\n\r\n        Object.assign(model, this.convertToCamelCase(attributes));\r\n    }\r\n\r\n    setMeta(model: TJsonaModel, meta: TAnyKeyValueObject) {\r\n        if (!this.camelizeMeta) {\r\n            return super.setMeta(model, meta);\r\n        }\r\n\r\n        model.meta = this.convertToCamelCase(meta);\r\n    }\r\n\r\n    setRelationships(model: TJsonaModel, relationships: TJsonaRelationships) {\r\n        // call super.setRelationships first, just for not to copy paste setRelationships logic\r\n        super.setRelationships(model, relationships);\r\n\r\n        if (!this.camelizeRelationships) {\r\n            return;\r\n        }\r\n\r\n        // then change relationship names case if needed\r\n        model[RELATIONSHIP_NAMES_PROP].forEach((kebabName, i) => {\r\n            const camelName = this.convertToCamelCaseString(kebabName);\r\n            if (camelName !== kebabName) {\r\n                model[camelName] = model[kebabName];\r\n                delete model[kebabName];\r\n                model[RELATIONSHIP_NAMES_PROP][i] = camelName;\r\n            }\r\n        });\r\n    }\r\n\r\n    private convertToCamelCase(stuff: unknown) {\r\n        if (Array.isArray(stuff)) {\r\n            return stuff.map(item => this.convertToCamelCase(item));\r\n        }\r\n        \r\n        if(isPlainObject(stuff)) {\r\n            const converted = {};\r\n            Object.entries(stuff).forEach(([propName, value]) => {\r\n                const camelName = this.convertToCamelCaseString(propName);\r\n                converted[camelName] = this.convertToCamelCase(value);\r\n            });\r\n            return converted;\r\n        }\r\n\r\n        return stuff;\r\n    }\r\n\r\n    convertToCamelCaseString(notCamelCaseString: string) {\r\n        return notCamelCaseString.replace(this.regex, g => g[1].toUpperCase());\r\n    }\r\n}\r\n", "import Jsona from './Jsona';\r\nimport ModelsSerializer from './builders/ModelsSerializer';\r\nimport JsonDeserializer from './builders/JsonDeserializer';\r\nimport {ModelPropertiesMapper, JsonPropertiesMapper} from './simplePropertyMappers';\r\nimport {SwitchCaseModelMapper, SwitchCaseJsonMapper} from './switchCasePropertyMappers';\r\n\r\nexport {\r\n    Jsona,\r\n    ModelsSerializer,\r\n    JsonDeserializer,\r\n    ModelPropertiesMapper,\r\n    JsonPropertiesMapper,\r\n    SwitchCaseModelMapper,\r\n    SwitchCaseJsonMapper,\r\n};\r\n\r\nexport default Jsona;\r\n"],
  "mappings": "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",
  "names": ["v", "d", "b", "__assign", "ModelsSerializer", "JsonDeserializer", "ReduxObjectDenormalizer", "ModelPropertiesMapper", "JsonPropertiesMapper", "DeserializeCache", "Jsona", "SwitchCaseModelMapper", "SwitchCaseJsonMapper"]
}
